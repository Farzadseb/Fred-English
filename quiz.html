<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Learning</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --bg: #f2f2f7; --text: #1c1c1e; --blue: #007aff; --card: #fff; --light-blue: #5856d6; }
        body.dark-mode { --bg: #0b1426; --text: #fff; --card: rgba(255,255,255,0.1); }
        body { font-family: -apple-system, sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 15px 15px 100px; display: flex; flex-direction: column; align-items: center; }
        .card { width: 100%; max-width: 400px; background: var(--card); border-radius: 25px; padding: 20px; box-sizing: border-box; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        .main-word { font-size: 32px; font-weight: 800; color: var(--blue); margin: 10px 0; direction: ltr; }
        .study-label { font-size: 11px; color: var(--blue); font-weight: bold; border-bottom: 1px solid rgba(0,122,255,0.2); margin: 15px 0 10px; text-align: left; }
        
        /* اصلاح چیدمان برای بردن اسپیکر به سمت راست */
        .en-container { display: flex; flex-direction: row-reverse; align-items: flex-start; justify-content: flex-end; gap: 12px; margin-bottom: 5px; }
        .en-text { direction: ltr; text-align: left; font-size: 17px; font-weight: 600; flex: 1; }
        .spk-icon { color: var(--blue); cursor: pointer; font-size: 18px; padding-top: 2px; }
        
        .fa-text { text-align: right; font-size: 14px; color: var(--light-blue); margin-bottom: 12px; }
        .next-btn { position: fixed; bottom: 30px; width: 90%; max-width: 380px; padding: 20px; border-radius: 20px; background: var(--blue); color: #fff; border: none; font-size: 18px; font-weight: bold; z-index: 1000; }
    </style>
</head>
<body>
    <div id="content" style="width:100%; display:flex; flex-direction:column; align-items:center;"></div>
    <button class="next-btn" onclick="nextWord()">کلمه بعدی</button>

    <script src="a1-words.js"></script>
    <script>
        let cur=0, data=[];
        if(localStorage.getItem('theme')==='dark') document.body.classList.add('dark-mode');

        function spk(t){
            if(!t || localStorage.getItem('mute')==='true') return;
            const m = new SpeechSynthesisUtterance(t);
            m.lang='en-US'; m.rate=0.6;
            speechSynthesis.cancel();
            speechSynthesis.speak(m);
        }

        function render(){
            const w = data[cur];
            const con = document.getElementById('content');
            con.innerHTML = `
                <h1 class="main-word">${w.word}</h1>
                <div style="margin-bottom:20px;">${w.translation}</div>
                <div class="card">
                    <div class="study-label">EXAMPLE</div>
                    <div class="en-container">
                        <i class="fas fa-volume-up spk-icon" onclick="spk('${w.example.replace(/'/g, "\\'")}')"></i>
                        <div class="en-text">${w.example}</div>
                    </div>
                    <div class="fa-text">${w.ex_trans}</div>

                    <div class="study-label">COLLOCATION</div>
                    <div class="en-container">
                        <i class="fas fa-volume-up spk-icon" onclick="spk('${w.collocation.replace(/'/g, "\\'")}')"></i>
                        <div class="en-text">${w.collocation}</div>
                    </div>
                    <div class="fa-text">${w.coll_trans}</div>

                    <div class="study-label">PHRASAL VERBS</div>
                    <div class="en-container">
                        <i class="fas fa-volume-up spk-icon" onclick="spk('${w.phrasal_1.replace(/'/g, "\\'")}')"></i>
                        <div class="en-text">${w.phrasal_1}</div>
                    </div>
                    <div class="fa-text">${w.ph1_trans}</div>
                </div>`;
            spk(w.word);
        }

        function nextWord(){
            cur++;
            if(cur < data.length) render();
            else location.replace('index.html');
        }

        window.onload = () => {
            data = wordsA1.slice(0, 10);
            render();
        };
    </script>
</body>
</html>
