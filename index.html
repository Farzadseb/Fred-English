<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#4CAF50">
    <title>English with Fred - ุงุฏฺฏุฑ ุงูฺฏูุณ</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>

<body>
    <div class="app-container">
        <!-- ููุงุฑ ุจุงูุง -->
        <div class="top-bar">
            <button id="muteBtn" class="top-btn" title="ุตุฏุง">
                <span id="muteIcon">๐ค</span>
            </button>
            <div class="title">English with Fred</div>
            <button id="themeBtn" class="top-btn" title="ุชุบุฑ ุชู">
                <span id="themeIcon">๐</span>
            </button>
        </div>

        <!-- ููุชูฺฉุดู -->
        <div id="notification" class="notification"></div>

        <!-- ุตูุญู ุงุตู -->
        <div id="home" class="view active">
            <div class="main-content">
                <!-- ฺฉุงุฑุช ุงูุชุงุฒ -->
                <div class="score-card">
                    <div class="stars-box" id="starsContainer">
                        <span class="star">โ</span>
                        <span class="star">โ</span>
                        <span class="star">โ</span>
                        <span class="star">โ</span>
                        <span class="star">โ</span>
                    </div>
                    <div class="score-text">
                        ุจูุชุฑู ุงูุชุงุฒ
                        <strong class="score-value" id="scoreValue">0%</strong>
                    </div>
                </div>

                <!-- ุญุงูุชโูุง ุขุฒููู -->
                <div class="modes">
                    <div class="mode-card" data-mode="english-persian">
                        <div class="mode-icon">๐บ๐ธ โ ๐ฎ๐ท</div>
                        <div class="mode-title">English โ Persian</div>
                        <div class="mode-desc">ูุบุช ุงูฺฏูุณ ุจู ูุงุฑุณ</div>
                    </div>
                    
                    <div class="mode-card" data-mode="persian-english">
                        <div class="mode-icon">๐ฎ๐ท โ ๐บ๐ธ</div>
                        <div class="mode-title">Persian โ English</div>
                        <div class="mode-desc">ูุบุช ูุงุฑุณ ุจู ุงูฺฏูุณ</div>
                    </div>
                    
                    <div class="mode-card" data-mode="word-definition">
                        <div class="mode-icon">๐ โ ๐ญ</div>
                        <div class="mode-title">Word โ Definition</div>
                        <div class="mode-desc">ฺฉููู ุจู ุชุนุฑู</div>
                    </div>
                    
                    <div class="mode-card" data-mode="definition-word">
                        <div class="mode-icon">๐ญ โ ๐</div>
                        <div class="mode-title">Definition โ Word</div>
                        <div class="mode-desc">ุชุนุฑู ุจู ฺฉููู</div>
                    </div>
                </div>

                <!-- ุฏฺฉููโูุง ุนููุงุช -->
                <button class="btn green" id="reviewMistakesBtn">
                    <span>๐ฏ</span> ูุฑูุฑ ุงุดุชุจุงูุงุช
                </button>
                
                <button class="btn blue" id="progressReportBtn">
                    <span>๐</span> ฺฏุฒุงุฑุด ูพุดุฑูุช
                </button>
                
                <button class="btn orange" id="whatsappBtn">
                    <span>๐ฌ</span> ุงุฑุชุจุงุท ุจุง ูพุดุชุจุงู
                </button>
                
                <button class="btn red" id="exitBtn">
                    <span>๐ช</span> ุฎุฑูุฌ
                </button>

                <!-- ุงุทูุงุนุงุช ูุณุฎู -->
                <div class="version-info">
                    v1.0.0 โข English Learning App
                </div>
            </div>
        </div>

        <!-- ุตูุญู ุขุฒููู -->
        <div id="quiz" class="view">
            <div class="main-content">
                <!-- ูุฏุฑ ุขุฒููู -->
                <div class="quiz-header">
                    <div class="quiz-progress">
                        <div class="progress-text">
                            ุณูุงู <span id="currentQuestion">1</span> ุงุฒ 10
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                    </div>
                    <div class="quiz-score">
                        <span>๐</span>
                        ุงูุชุงุฒ: <span id="quizScore">0</span>
                    </div>
                </div>

                <!-- ุณูุงู -->
                <div class="question-card">
                    <div class="question-label">ุณูุงู:</div>
                    <div class="question-text" id="questionText"></div>
                    <button class="speak-btn" id="speakQuestion" title="ุชฺฉุฑุงุฑ ุตุฏุง">
                        ๐
                    </button>
                </div>

                <!-- ุฌูุงุจ -->
                <div class="answer-section">
                    <input 
                        type="text" 
                        id="answerInput" 
                        class="answer-input"
                        placeholder="ูพุงุณุฎ ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ..."
                        autocomplete="off"
                        autocapitalize="off"
                        spellcheck="false"
                    >
                    <div class="input-hint">
                        ุฏฺฉูู Enter ุฑุง ุจุฒูุฏ ุง ุฏฺฉูู ุจุฑุฑุณ ุฑุง ูุดุงุฑ ุฏูุฏ
                    </div>
                </div>

                <!-- ุฏฺฉููโูุง ุขุฒููู -->
                <div class="quiz-buttons">
                    <button class="btn green large" id="submitAnswer">
                        <span>โ</span> ุจุฑุฑุณ ูพุงุณุฎ
                    </button>
                    <button class="btn red" id="backHome">
                        <span>๐</span> ุจุงุฒฺฏุดุช ุจู ุฎุงูู
                    </button>
                </div>

                <!-- ุจุงุฒุฎูุฑุฏ -->
                <div class="feedback-box" id="feedback">
                    ูพุงุณุฎ ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ...
                </div>
            </div>
        </div>

        <!-- ฺฏุฒุงุฑุด ูพุดุฑูุช -->
        <div id="progressReport" class="view">
            <div class="main-content">
                <div class="report-header">
                    <h2>๐ ฺฏุฒุงุฑุด ูพุดุฑูุช</h2>
                    <button class="back-btn" id="backFromReport">
                        โ ุจุงุฒฺฏุดุช
                    </button>
                </div>

                <div class="report-content" id="progressContent">
                    <!-- ูุญุชูุง ฺฏุฒุงุฑุด -->
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Container -->
    <div id="modalContainer"></div>

    <!-- ุงุณฺฉุฑูพุชโูุง -->
    <script src="words.js"></script>
    <script src="modal.js"></script>
    <script src="progress.js"></script>
    <script src="speech.js"></script>
    <script src="screen-controller.js"></script>
    <script src="app.js"></script>
    
    <!-- Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js')
                .then(reg => console.log('โ Service Worker ุซุจุช ุดุฏ:', reg))
                .catch(err => console.log('โ Service Worker ุฎุทุง:', err));
        }
    </script>
</body>
</html>
