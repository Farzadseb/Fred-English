<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <!-- Ù‡Ù…Ù‡ Ù…ØªØ§ ØªÚ¯â€ŒÙ‡Ø§ Ùˆ Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ Ù…Ø«Ù„ Ù‚Ø¨Ù„ -->
    <!-- Ø§Ù…Ø§ Ù„ØºØ§Øª Ø­Ø°Ù Ø´Ø¯Ù‡ -->
</head>
<body>
    <!-- Ù‡Ù…Ù‡ Ø§Ù„Ù…Ø§Ù†â€ŒÙ‡Ø§ÛŒ UI -->
    
    <script>
        // ========== Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ø§ØµÙ„ÛŒ (Ø¨Ø¯ÙˆÙ† Ù„ØºØ§Øª) ==========
        let db = []; // Ø®Ø§Ù„ÛŒ
        
        window.onload = function() {
            // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù„ØºØ§Øª Ø§Ø² ÙØ§ÛŒÙ„ Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡
            loadWords();
            // Ø¨Ù‚ÛŒÙ‡ Ú©Ø¯...
        };
        
        function loadWords() {
            try {
                // Ø±ÙˆØ´ Û±: Ø§Ø² ÙØ§ÛŒÙ„ JS Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡
                if (typeof rawWords !== 'undefined') {
                    db = processRawWords(rawWords);
                } 
                // Ø±ÙˆØ´ Û²: Ø§Ø² localStorage
                else {
                    const savedWords = localStorage.getItem('fred_words');
                    if (savedWords) {
                        db = JSON.parse(savedWords);
                    } else {
                        // Ø§Ú¯Ø± Ù‡ÛŒÚ† Ù„ØºØªÛŒ Ù†ÛŒØ³ØªØŒ Ù†Ù…ÙˆÙ†Ù‡ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ù†
                        loadSampleWords();
                    }
                }
                console.log(`ğŸ“– Loaded ${db.length} words`);
            } catch (error) {
                console.error("âŒ Error loading words:", error);
                loadSampleWords(); // fallback
            }
        }
        
        function loadSampleWords() {
            // ÙÙ‚Ø· Ø¯Ø± ØµÙˆØ±Øª Ù†Ø¨ÙˆØ¯ Ù„ØºØ§Øª
            const sampleWords = `hello â€” Ø³Ù„Ø§Ù… â€” A common greeting â€” Hello everyone
book â€” Ú©ØªØ§Ø¨ â€” For reading â€” I read books`;
            db = processRawWords(sampleWords);
            localStorage.setItem('fred_words', JSON.stringify(db));
        }
    </script>
</body>
</html>
