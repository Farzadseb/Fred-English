<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>English with Fred</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --bg: #0b1426; --title: #ffffff; --glass: rgba(255, 255, 255, 0.18); }
        body.light-mode { --bg: #f2f2f7; --title: #000000; --glass: rgba(255, 255, 255, 0.3); }
        
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif;
            background: var(--bg); margin: 0; display: flex; flex-direction: column; 
            align-items: center; min-height: 100vh; padding: 2vh 0; box-sizing: border-box;
            transition: 0.3s; overflow-x: hidden;
        }

        /* Ú©Ø§Ø¯Ø± Ø§Ù…ØªÛŒØ§Ø² Ø¢ÛŒÙÙˆÙ†ÛŒ */
        .score-box {
            width: 90%; max-width: 500px; background: var(--glass);
            border-radius: 28px; padding: 18px; margin-bottom: 20px;
            text-align: center; backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.25);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }
        .stars { color: #ffd700; font-size: 24px; margin-bottom: 8px; }
        .best-record { 
            display: inline-block; margin-top: 10px; padding: 6px 20px;
            background: #5856d6; color: white; border-radius: 14px; font-weight: 800; font-size: 14px;
        }

        .header { width: 90%; max-width: 500px; display: flex; justify-content: space-between; align-items: center; margin-bottom: 2vh; }
        .brand-name { font-size: 28px; font-weight: 900; color: var(--title); margin: 0; }
        .top-icon { font-size: 20px; color: var(--title); cursor: pointer; width: 44px; height: 44px; display: flex; align-items: center; justify-content: center; background: var(--glass); border-radius: 50%; }

        .menu-container { width: 90%; max-width: 500px; display: flex; flex-direction: column; gap: 14px; }

        /* Ø§Ø³ØªØ§ÛŒÙ„ Ø¨Ø±Ø§Ù‚ Ú©Ø§Ø¯Ø±Ù‡Ø§ */
        .menu-item {
            width: 100%; height: 68px; border-radius: 24px;
            display: flex; flex-direction: row-reverse; align-items: center; 
            padding: 0 20px; cursor: pointer; text-decoration: none; box-sizing: border-box;
            position: relative; overflow: hidden; transition: 0.1s;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2), inset 0 1px 1px rgba(255,255,255,0.4);
            border: 1px solid rgba(255,255,255,0.25); backdrop-filter: blur(15px);
        }

        .menu-item::before {
            content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 50%;
            background: linear-gradient(180deg, rgba(255,255,255,0.4) 0%, rgba(255,255,255,0) 100%);
            pointer-events: none;
        }

        .menu-item:active { transform: scale(0.96); filter: brightness(1.2); }

        .icon-wrapper { display: flex; align-items: center; justify-content: flex-start; width: 75px; position: relative; }
        .rect-flag { width: 34px; height: 22px; border-radius: 4px; object-fit: cover; border: 1.5px solid white; box-shadow: 0 3px 6px rgba(0,0,0,0.3); }
        .menu-text { color: white; font-size: 17px; font-weight: 800; flex-grow: 1; text-align: right; }

        /* Ø±Ù†Ú¯â€ŒÙ‡Ø§ÛŒ Ø¨Ø±Ø§Ù‚ Ú¯Ø±Ø§Ø¯ÛŒÙ†ØªÛŒ */
        .bg-purple { background: linear-gradient(180deg, #bf5af2, #9437d0); }
        .bg-blue-l { background: linear-gradient(180deg, #5ac8fa, #007aff); }
        .bg-blue-d { background: linear-gradient(180deg, #007aff, #004fb1); }
        .bg-teal   { background: linear-gradient(180deg, #64d2ff, #0a84ff); }
        .bg-green  { background: linear-gradient(180deg, #34c759, #248a3d); }
        .bg-whatsapp { background: linear-gradient(180deg, #30d158, #1c9b3b); }
        .bg-orange { background: linear-gradient(180deg, #ff9f0a, #e67600); }
        .bg-red    { background: linear-gradient(180deg, #ff453a, #b0231a); }
    </style>
</head>
<body class="light-mode">

    <div class="header">
        <div class="top-icon" onclick="toggleTheme()"><i class="fas fa-adjust"></i></div>
        <h1 class="brand-name">English with Fred</h1>
        <div id="m-btn" class="top-icon" onclick="toggleMute()"><i class="fas fa-volume-up"></i></div>
    </div>

    <div class="score-box">
        <div class="stars"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i></div>
        <div class="best-record">Best Record: <span id="record-val">0</span>%</div>
    </div>

    <div class="menu-container">
        <a href="study.html" class="menu-item bg-purple">
            <span class="menu-text">Ø¢Ù…ÙˆØ²Ø´ Ù„ØºØ§Øª (Study)</span>
            <div class="icon-wrapper">
                <img src="https://flagcdn.com/us.svg" class="rect-flag" style="position:absolute; left:0; z-index:1; transform:rotate(-4deg)">
                <img src="https://flagcdn.com/ir.svg" class="rect-flag" style="position:relative; left:14px; z-index:2; transform:rotate(3deg)">
            </div>
        </a>
        <div class="menu-item bg-blue-l" onclick="go('fa-en')">
            <span class="menu-text">Persian â” English</span>
            <div class="icon-wrapper"><img src="https://flagcdn.com/ir.svg" class="rect-flag"></div>
        </div>
        <div class="menu-item bg-blue-d" onclick="go('en-fa')">
            <span class="menu-text">English â” Persian</span>
            <div class="icon-wrapper"><img src="https://flagcdn.com/us.svg" class="rect-flag"></div>
        </div>
        <div class="menu-item bg-teal" onclick="go('word-def')">
            <span class="menu-text">Word â” Definition</span>
            <div class="icon-wrapper"><img src="https://flagcdn.com/us.svg" class="rect-flag"></div>
        </div>
        <div class="menu-item bg-green" onclick="go('def-word')">
            <span class="menu-text">Definition â” Word</span>
            <div class="icon-wrapper"><img src="https://flagcdn.com/us.svg" class="rect-flag"></div>
        </div>
        <a href="https://wa.me/989017708544" class="menu-item bg-whatsapp">
            <span class="menu-text">Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… ÙˆØ§ØªØ³â€ŒØ§Ù¾</span>
            <div class="icon-wrapper"><i class="fab fa-whatsapp" style="font-size:28px; color:white;"></i></div>
        </a>
        <div class="menu-item bg-orange" onclick="showPrivateReport()">
            <span class="menu-text">Ú¯Ø²Ø§Ø±Ø´ Ù¾ÛŒØ´Ø±ÙØª</span>
            <div class="icon-wrapper"><i class="fas fa-chart-line" style="font-size:24px; color:white;"></i></div>
        </div>
        <div class="menu-item bg-red" onclick="handleExit()">
            <span class="menu-text">ØªØºÛŒÛŒØ± Ú©Ø§Ø±Ø¨Ø± / Ø®Ø±ÙˆØ¬</span>
            <div class="icon-wrapper"><i class="fas fa-user-circle" style="font-size:24px; color:white;"></i></div>
        </div>
    </div>

    <script>
        function toggleTheme() {
            document.body.classList.toggle('light-mode');
            localStorage.setItem('fTheme', document.body.classList.contains('light-mode')?'light':'dark');
        }
        function toggleMute() {
            let m = localStorage.getItem('fMute')==='true';
            localStorage.setItem('fMute', !m);
            updMute();
        }
        function updMute() {
            const b = document.getElementById('m-btn');
            b.innerHTML = localStorage.getItem('fMute')==='true'?'<i class="fas fa-volume-mute"></i>':'<i class="fas fa-volume-up"></i>';
        }
        function go(mode) {
            localStorage.setItem('qMode', mode);
            localStorage.setItem('forceMute', mode === 'fa-en' ? 'true' : 'false');
            window.location.href = 'quiz.html';
        }
        function showPrivateReport() {
            let score = parseFloat(localStorage.getItem('bestScore')) || 0;
            let ielts = score >= 90 ? "8.0" : score >= 70 ? "6.5" : "5.0";
            alert(`ğŸ“Š Ú¯Ø²Ø§Ø±Ø´ Ø§Ø®ØªØµØ§ØµÛŒ Ø§Ø³ØªØ§Ø¯:\n\nğŸ”¹ Ù†Ù…Ø±Ù‡ Ø¢ÛŒÙ„ØªØ³ ØªØ®Ù…ÛŒÙ†ÛŒ: ${ielts}\nğŸ”¹ ÙˆØ¶Ø¹ÛŒØª: ${score >= 70 ? 'Ø¯Ø± Ù…Ø³ÛŒØ± Ù¾ÛŒØ´Ø±ÙØª' : 'Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªÙ…Ø±Ú©Ø² Ø¨ÛŒØ´ØªØ±'}`);
        }
        function handleExit() {
            alert("Ø§Ù…Ø±ÙˆØ² Ø¹Ø§Ù„ÛŒ Ø¨ÙˆØ¯ÛŒ! ÙØ±Ø¯Ø§ Ù…Ù†ØªØ¸Ø±Øª Ù‡Ø³ØªÙ… ØªØ§ Ù„ØºØ§Øª Ø¬Ø¯ÛŒØ¯ Ø±Ùˆ Ø¨ØªØ±Ú©ÙˆÙ†ÛŒÙ…. ğŸ”¥");
        }
        window.onload = () => {
            if(localStorage.getItem('fTheme')==='dark') document.body.classList.remove('light-mode');
            updMute();
            document.getElementById('record-val').innerText = localStorage.getItem('bestScore') || '0';
        };
    </script>
</body>
</html>
